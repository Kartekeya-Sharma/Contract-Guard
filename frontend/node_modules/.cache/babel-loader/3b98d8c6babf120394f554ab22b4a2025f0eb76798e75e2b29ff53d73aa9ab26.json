{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ojuss\\\\OneDrive\\\\Desktop\\\\RVU\\\\Sem_6\\\\Internship\\\\Contract Guard\\\\frontend\\\\src\\\\components\\\\FileUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onUploadComplete\n}) => {\n  _s();\n  const [isUploading, setIsUploading] = useState(false);\n  const onDrop = useCallback(async acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n\n    // Check file type\n    const allowedTypes = [\"application/pdf\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"text/plain\"];\n    if (!allowedTypes.includes(file.type)) {\n      toast.error(\"Please upload a PDF, DOCX, or TXT file\");\n      return;\n    }\n\n    // Check file size (16MB limit)\n    const maxSize = 16 * 1024 * 1024; // 16MB in bytes\n    if (file.size > maxSize) {\n      toast.error(\"File size must be less than 16MB\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    setIsUploading(true);\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      toast.success(\"File uploaded successfully!\");\n      if (onUploadComplete) {\n        onUploadComplete(response.data);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Upload error:\", error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Failed to upload file. Please try again.\";\n      toast.error(errorMessage);\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onUploadComplete]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      \"application/pdf\": [\".pdf\"],\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\": [\".docx\"],\n      \"text/plain\": [\".txt\"]\n    },\n    maxFiles: 1,\n    disabled: isUploading\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-3xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n          ${isDragActive ? \"border-blue-500 bg-blue-50\" : \"border-gray-300 hover:border-blue-400\"}\n          ${isUploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: `w-12 h-12 ${isDragActive ? \"text-blue-500\" : \"text-gray-400\"}`,\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), isUploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: \"Uploading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Please wait while we process your file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: isDragActive ? \"Drop the file here\" : \"Drag and drop your contract here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"or click to select a file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs mt-2\",\n            children: \"Supported formats: PDF, DOCX, TXT (max 16MB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"HL/qRiO7RSryAIHotyFfik5+zTg=\", false, function () {\n  return [useDropzone];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useCallback","useState","useDropzone","toast","axios","jsxDEV","_jsxDEV","FileUpload","onUploadComplete","_s","isUploading","setIsUploading","onDrop","acceptedFiles","file","allowedTypes","includes","type","error","maxSize","size","formData","FormData","append","response","post","headers","success","data","_error$response","_error$response$data","console","errorMessage","getRootProps","getInputProps","isDragActive","accept","maxFiles","disabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/ojuss/OneDrive/Desktop/RVU/Sem_6/Internship/Contract Guard/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\n\r\nconst FileUpload = ({ onUploadComplete }) => {\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const onDrop = useCallback(\r\n    async (acceptedFiles) => {\r\n      const file = acceptedFiles[0];\r\n      if (!file) return;\r\n\r\n      // Check file type\r\n      const allowedTypes = [\r\n        \"application/pdf\",\r\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n        \"text/plain\",\r\n      ];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        toast.error(\"Please upload a PDF, DOCX, or TXT file\");\r\n        return;\r\n      }\r\n\r\n      // Check file size (16MB limit)\r\n      const maxSize = 16 * 1024 * 1024; // 16MB in bytes\r\n      if (file.size > maxSize) {\r\n        toast.error(\"File size must be less than 16MB\");\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      setIsUploading(true);\r\n      try {\r\n        const response = await axios.post(\r\n          \"http://localhost:5000/api/upload\",\r\n          formData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n\r\n        toast.success(\"File uploaded successfully!\");\r\n        if (onUploadComplete) {\r\n          onUploadComplete(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Upload error:\", error);\r\n        const errorMessage =\r\n          error.response?.data?.error ||\r\n          \"Failed to upload file. Please try again.\";\r\n        toast.error(errorMessage);\r\n      } finally {\r\n        setIsUploading(false);\r\n      }\r\n    },\r\n    [onUploadComplete]\r\n  );\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      \"application/pdf\": [\".pdf\"],\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\r\n        [\".docx\"],\r\n      \"text/plain\": [\".txt\"],\r\n    },\r\n    maxFiles: 1,\r\n    disabled: isUploading,\r\n  });\r\n\r\n  return (\r\n    <div className=\"w-full max-w-3xl mx-auto\">\r\n      <div\r\n        {...getRootProps()}\r\n        className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\r\n          ${\r\n            isDragActive\r\n              ? \"border-blue-500 bg-blue-50\"\r\n              : \"border-gray-300 hover:border-blue-400\"\r\n          }\r\n          ${isUploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\r\n      >\r\n        <input {...getInputProps()} />\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex justify-center\">\r\n            <svg\r\n              className={`w-12 h-12 ${\r\n                isDragActive ? \"text-blue-500\" : \"text-gray-400\"\r\n              }`}\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          {isUploading ? (\r\n            <div className=\"text-gray-600\">\r\n              <p className=\"font-medium\">Uploading...</p>\r\n              <p className=\"text-sm\">Please wait while we process your file</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-gray-600\">\r\n              <p className=\"font-medium\">\r\n                {isDragActive\r\n                  ? \"Drop the file here\"\r\n                  : \"Drag and drop your contract here\"}\r\n              </p>\r\n              <p className=\"text-sm\">or click to select a file</p>\r\n              <p className=\"text-xs mt-2\">\r\n                Supported formats: PDF, DOCX, TXT (max 16MB)\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}